function mobtriangleGen(){if($("body").hasClass("index")){var e=Trianglify({width:720,height:720,variance:"1",cell_size:34,x_colors:["#4C1A00","#FF5A00","#FF9A64","#FF5A00","#4C1A00"]});$("#bigquote .quote").css("background-image","url("+e.png()+")")}else{var a=Trianglify({width:640,height:260,variance:"0.87",cell_size:45,x_colors:["#4C1A00","#FF5A00","#FF9A64"]});$("#inner-header header").css("background-image","url("+a.png()+")")}}function tabtriangleGen(){if($("body").hasClass("index")){var e=Trianglify({width:1e3,height:1e3,variance:"1",cell_size:34,x_colors:["#4C1A00","#FF5A00","#FF9A64","#FF5A00","#4C1A00"]});$("#bigquote .quote").css("background-image","url("+e.png()+")")}else{var a=Trianglify({width:1024,height:250,variance:"0.87",cell_size:45,x_colors:["#4C1A00","#FF5A00","#FF9A64"]});$("#inner-header header").css("background-image","url("+a.png()+")")}}function desktriangleGen(){if($("body").hasClass("index")){var e=Trianglify({width:1e3,height:1e3,variance:"1",cell_size:34,x_colors:["#4C1A00","#FF5A00","#FF9A64","#FF5A00","#4C1A00"]});$("#bigquote .quote").css("background-image","url("+e.png()+")")}else{var a=Trianglify({width:window.innerWidth,height:230,variance:"0.87",cell_size:45,x_colors:["#4C1A00","#FF5A00","#FF9A64"]});$("#inner-header header").css("background-image","url("+a.png()+")")}}function stickyFooter(){var e=$(window).innerHeight(),a=$(".footer").height(),t=$("#inner-header").height(),r=$(".sticky-footer"),s=r.outerHeight();e>t+s?(newheight=e-a-t,r.css("height",newheight+"px")):r.css("height","")}function resizedw(){$(window).innerWidth()>=1024&&(desktriangleGen(),console.log("fired desktriangleGen"))}function registerValidate(){var e=!0;return $("#participant_name").val().length<=0?(e=!1,$("#participant_name_err").html("Please enter team name")):$("#participant_name_err").html(""),tl_lgn_flg=validateTeamMember(0),tm_lgn_flg=validateTeamMember(1),tmtwo_lgn_flg=validateTeamMember(2),$("#team_members_attributes_0_email_address").val().length>0&&$("#team_members_attributes_1_email_address").val().length>0&&$("#team_members_attributes_2_email_address").val().length>0&&($("#team_members_attributes_0_email_address").val().trim()==$("#team_members_attributes_1_email_address").val().trim()||$("#team_members_attributes_0_email_address").val().trim()==$("#team_members_attributes_2_email_address").val().trim()||$("#team_members_attributes_1_email_address").val().trim()==$("#team_members_attributes_0_email_address").val().trim()||$("#team_members_attributes_1_email_address").val().trim()==$("#team_members_attributes_2_email_address").val().trim()||$("#team_members_attributes_2_email_address").val().trim()==$("#team_members_attributes_0_email_address").val().trim()||$("#team_members_attributes_2_email_address").val().trim()==$("#team_members_attributes_1_email_address").val().trim())?(alert("Duplicate emails detected."),e=!1,!1):$("#team_members_attributes_0_passport_number").val()&&$("#team_members_attributes_1_passport_number").val()&&$("#team_members_attributes_2_passport_number").val()&&($("#team_members_attributes_0_passport_number").val().trim()==$("#team_members_attributes_1_passport_number").val().trim()||$("#team_members_attributes_0_passport_number").val().trim()==$("#team_members_attributes_2_passport_number").val().trim()||$("#team_members_attributes_1_passport_number").val().trim()==$("#team_members_attributes_0_passport_number").val().trim()||$("#team_members_attributes_1_passport_number").val().trim()==$("#team_members_attributes_2_passport_number").val().trim()||$("#team_members_attributes_2_passport_number").val().trim()==$("#team_members_attributes_0_passport_number").val().trim()||$("#team_members_attributes_2_passport_number").val().trim()==$("#team_members_attributes_1_passport_number").val().trim())?(alert("Duplicate identification / passport number detected."),e=!1,!1):$("#team_members_attributes_0_team_role_id").val()&&$("#team_members_attributes_1_team_role_id").val()&&$("#team_members_attributes_2_team_role_id").val()&&($("#team_members_attributes_0_team_role_id").val().trim()==$("#team_members_attributes_1_team_role_id").val().trim()||$("#team_members_attributes_0_team_role_id").val().trim()==$("#team_members_attributes_2_team_role_id").val().trim()||$("#team_members_attributes_1_team_role_id").val().trim()==$("#team_members_attributes_0_team_role_id").val().trim()||$("#team_members_attributes_1_team_role_id").val().trim()==$("#team_members_attributes_2_team_role_id").val().trim()||$("#team_members_attributes_2_team_role_id").val().trim()==$("#team_members_attributes_0_team_role_id").val().trim()||$("#team_members_attributes_2_team_role_id").val().trim()==$("#team_members_attributes_1_team_role_id").val().trim())?(alert("Each team must have an Architect, Structural Engineer and Mechanical&Electrical Engineer."),e=!1,!1):((0==tl_lgn_flg||0==tm_lgn_flg||0==tmtwo_lgn_flg)&&(e=!1),jQuery("#participant_is_agree").is(":checked")?$("#tc_err").html(""):(e=!1,$("#tc_err").html("Please agree terms & conditions")),""==$("#participant_country_id").val()?(e=!1,$("#country_err").html("Please choose country")):$("#country_err").html(""),""==$("#participant_team_city").val()?(e=!1,$("#participant_team_city_err").html("Please enter city")):$("#participant_team_city_err").html(""),e)}function validateTeamMember(e){var a=!0,t="";return $("#team_members_attributes_"+e+"_first_name").val().length<=0&&(a=!1,t+="Please enter first name<br>"),$("#team_members_attributes_"+e+"_email_address").val().length<=0?(a=!1,t+="Please enter email address<br>"):(a=memberEmailCheck(e),0==a&&(t+="Email already exists<br>")),$("#team_members_attributes_"+e+"_passport_number").val().length<=0&&(a=!1,t+="Please enter identification / passport number<br>"),$("#team_members_attributes_"+e+"_date_of_birth").val().length<=0&&(a=!1,t+="Please enter date of birth<br>"),$("#team_members_attributes_"+e+"_team_role_id").val().length<=0&&(a=!1,t+="Please enter team role<br>"),0==a&&(0==e?$("#teamleader_err").html(t):1==e?$("#teammememberone_err").html(t):2==e&&$("#teammembertwo_err").html(t)),a}function validateLogin(){var e=!0;return $("#emaillogin").val().length<=0?(e=!1,$("#emaillogin_err").html("Please enter email")):(e=!0,$("#emaillogin_err").html("")),$("#passlogin").val().length<=0?(e=!1,$("#passlogin_err").html("Please enter password")):(e=!0,$("#passlogin_err").html("")),e}function confirmSubmission(){if(!(gv_upload_status_1&&gv_upload_status_2&&gv_upload_status_3&&gv_upload_status_4&&gv_upload_status_5))return alert(gv_maxExceededMessage),!1;if(!(gv_upload_ext_status_1&&gv_upload_ext_status_2&&gv_upload_ext_status_3&&gv_upload_ext_status_4&&gv_upload_ext_status_5))return alert(gv_extErrorMessage),!1;if(1!=$("#submitterms").prop("checked"))return alert("Please check to agree to the Terms and Conditions"),!1;if(!($("#team_answer_answerone").prop("files")[0]&&$("#team_answer_answertwo").prop("files")[0]&&$("#team_answer_answerthree").prop("files")[0]&&$("#team_answer_answerfour").prop("files")[0]&&$("#team_answer_answerfive").prop("files")[0]))return alert("All 5 PDF documents are required for submission"),!1;if($("#team_answer_answerone").prop("files")[0].name==$("#team_answer_answertwo").prop("files")[0].name||$("#team_answer_answerone").prop("files")[0].name==$("#team_answer_answerthree").prop("files")[0].name||$("#team_answer_answerone").prop("files")[0].name==$("#team_answer_answerfour").prop("files")[0].name||$("#team_answer_answerone").prop("files")[0].name==$("#team_answer_answerfive").prop("files")[0].name||$("#team_answer_answertwo").prop("files")[0].name==$("#team_answer_answerone").prop("files")[0].name||$("#team_answer_answertwo").prop("files")[0].name==$("#team_answer_answerthree").prop("files")[0].name||$("#team_answer_answertwo").prop("files")[0].name==$("#team_answer_answerfour").prop("files")[0].name||$("#team_answer_answertwo").prop("files")[0].name==$("#team_answer_answerfive").prop("files")[0].name||$("#team_answer_answerthree").prop("files")[0].name==$("#team_answer_answerone").prop("files")[0].name||$("#team_answer_answerthree").prop("files")[0].name==$("#team_answer_answertwo").prop("files")[0].name||$("#team_answer_answerthree").prop("files")[0].name==$("#team_answer_answerfour").prop("files")[0].name||$("#team_answer_answerthree").prop("files")[0].name==$("#team_answer_answerfive").prop("files")[0].name||$("#team_answer_answerfour").prop("files")[0].name==$("#team_answer_answerone").prop("files")[0].name||$("#team_answer_answerfour").prop("files")[0].name==$("#team_answer_answertwo").prop("files")[0].name||$("#team_answer_answerfour").prop("files")[0].name==$("#team_answer_answerthree").prop("files")[0].name||$("#team_answer_answerfour").prop("files")[0].name==$("#team_answer_answerfive").prop("files")[0].name||$("#team_answer_answerfive").prop("files")[0].name==$("#team_answer_answerone").prop("files")[0].name||$("#team_answer_answerfive").prop("files")[0].name==$("#team_answer_answertwo").prop("files")[0].name||$("#team_answer_answerfive").prop("files")[0].name==$("#team_answer_answerthree").prop("files")[0].name||$("#team_answer_answerfive").prop("files")[0].name==$("#team_answer_answerfour").prop("files")[0].name)return alert("Same file names detected. Please rename your files properly"),!1;var e=confirm("Are you sure you want to submit entry?");return 1==e&&validateSubmission()&&($("#btn-submit").parent().attr({style:"text-align: center;"}).html("Processing.."),$("#btn-submit").remove(),$("#participant_answer").submit()),!1}function validateFiles(e,a){var t,r=gv_maxExceededMessage,s=gv_extErrorMessage,_=["pdf"],i=$(e).data("max-file-size"),m=!1,n=!1;return $.each(e.files,function(){this.size&&i&&this.size>parseInt(i)&&(m=!0),t=this.name.toLowerCase().split(".").pop(),-1==$.inArray(t,_)&&(n=!0)}),m?(1==a&&(gv_upload_status_1=!1),2==a&&(gv_upload_status_2=!1),3==a&&(gv_upload_status_3=!1),4==a&&(gv_upload_status_4=!1),5==a&&(gv_upload_status_5=!1),window.alert(r),!1):(1==a&&(gv_upload_status_1=!0),2==a&&(gv_upload_status_2=!0),3==a&&(gv_upload_status_3=!0),4==a&&(gv_upload_status_4=!0),5==a&&(gv_upload_status_5=!0),n?(1==a&&(gv_upload_ext_status_1=!1),2==a&&(gv_upload_ext_status_2=!1),3==a&&(gv_upload_ext_status_3=!1),4==a&&(gv_upload_ext_status_4=!1),5==a&&(gv_upload_ext_status_5=!1),window.alert(s),!1):(1==a&&(gv_upload_ext_status_1=!0),2==a&&(gv_upload_ext_status_2=!0),3==a&&(gv_upload_ext_status_3=!0),4==a&&(gv_upload_ext_status_4=!0),5==a&&(gv_upload_ext_status_5=!0),!0))}function validateSubmission(){var e=!0;if($("#team_answer_answerone").val().length<=0||$("#team_answer_answertwo").val().length<=0||$("#team_answer_answerthree").val().length<=0||$("#team_answer_answerfour").val().length<=0||$("#team_answer_answerfive").val().length<=0)e=!1,$("#submission_files_err").html("Please upload 5 documents");else{$("#submission_files_err").html("");var a=$("#team_answer_answerone").val().length,t=$("#team_answer_answerone").val().substring(a-3,a).toLowerCase();"pdf"!=t?(e=!1,$("#submission_file1_err").html("Please upload pdf file")):$("#submission_file1_err").html("");var r=$("#team_answer_answertwo").val().length,s=$("#team_answer_answertwo").val().substring(r-3,r).toLowerCase();"pdf"!=s?(e=!1,$("#submission_file2_err").html("Please upload pdf file")):$("#submission_file2_err").html("");var _=$("#team_answer_answerthree").val().length,i=$("#team_answer_answerthree").val().substring(_-3,_).toLowerCase();"pdf"!=i?(e=!1,$("#submission_file3_err").html("Please upload pdf file")):$("#submission_file3_err").html("");var m=$("#team_answer_answerfour").val().length,n=$("#team_answer_answerfour").val().substring(m-3,m).toLowerCase();"pdf"!=n?(e=!1,$("#submission_file4_err").html("Please upload pdf file")):$("#submission_file4_err").html("");var l=$("#team_answer_answerfive").val().length,o=$("#team_answer_answerfive").val().substring(l-3,l).toLowerCase();"pdf"!=o?(e=!1,$("#submission_file5_err").html("Please upload pdf file")):$("#submission_file5_err").html("")}return e&&(jQuery("#submitterms").is(":checked")||($("#submission_agree_err").html("Please agree Terms & Conditions"),e=!1)),e}function memberEmailCheck(e){var a=$("#team_members_attributes_"+e+"_email_address").val(),t=!0;if(a.length>0){var r=$("#participant_challenge_id").val();r>0&&$.post("/"+r+"/memberemail_check/",{member_email:a},function(e){"Email already exists."==e&&(t=!1)})}return t}$(document).foundation(),$(document).ready(function(){$("#hero").slick({dots:!0,autoplay:!0,speed:1e3,autoplaySpeed:4500,arrows:!1,fade:!0,cssEase:"linear"}),$(window).innerWidth()<640&&mobtriangleGen(),$(window).innerWidth()>=640&&tabtriangleGen(),$(window).innerWidth()>=1024&&desktriangleGen(),stickyFooter()});var doneResizing;window.onresize=function(){clearTimeout(doneResizing),doneResizing=setTimeout(function(){resizedw(),stickyFooter()},200)};var gv_upload_status_1=gv_upload_status_2=gv_upload_status_3=gv_upload_status_4=gv_upload_status_5=!0,gv_upload_ext_status_1=gv_upload_ext_status_2=gv_upload_ext_status_3=gv_upload_ext_status_4=gv_upload_ext_status_5=!0,gv_maxExceededMessage="This file exceeds the maximum allowed file size (4 MB)",gv_extErrorMessage="Only pdf file is allowed";